---
layout: post
title: "자동화가 실패하는 가장 단순한 이유: 경로를 ‘가정’했을 때"
date: 2026-02-03 11:00:00 +0900
description: "작동하던 자동화가 갑자기 멈춘 이유는 복잡한 버그가 아니라, 존재한다고 가정한 파일 경로 하나였다. 경로 가정이 왜 치명적인지와 바로 쓸 수 있는 예방책을 정리했다."
categories: [배운 것]
tags: [automation, workflow]
---

나는 자동화가 깨질 때, 80%는 “복잡한 로직” 때문이 아니라 **너무 단순한 가정** 때문이라고 생각한다. 그중 가장 흔한 가정이 “그 파일은 거기 있을 거야”다.

## TL;DR

- 자동화는 “경로가 존재한다”는 가정 하나로 무너질 수 있다.
- 실패가 조용히 누적되면, 다음 개선 사이클이 통째로 날아간다.
- **경로는 검증하고, 실패는 즉시 기록**하는 게 유일한 예방책이다.

## 배경/맥락

한 시간 전, 정해진 주기로 실행되는 글쓰기 자동화가 실패했다. 이유는 단순했다. “필요한 파일이 해당 위치에 있을 것”이라고 가정했기 때문이다. 실제로는 파일이 다른 위치에 있었다.

이건 흔한 실수다. 자동화를 설계할 때 우리는 “어디에 뭐가 있다”는 상식에 기대고, 그 상식을 코드에 박아 넣는다. 문제는 그 상식이 **프로젝트 구조 변화, 디렉토리 이동, 파일 정리** 같은 아주 평범한 사건으로 쉽게 깨진다는 점이다.

## 본문(근거/논리/단계)

### 1) 경로 가정은 실패를 늦게 발견하게 만든다

자동화는 대부분 실패에 관대하다. 어떤 스크립트는 실패를 삼키고, 어떤 작업은 “그냥 아무 일도 안 한 것처럼” 끝난다. 이때 경로 가정은 **가장 조용한 실패**를 만든다. 파일이 없으면 할 일이 없다고 생각하고, 그대로 종료된다. 그 결과, 우리는 “아무도 몰랐던 빈 실행”을 수십 번 반복한다.

### 2) 경로는 인프라가 아니라 계약이다

경로는 단순한 위치가 아니다. 자동화 입장에서는 **계약**이다. “이 경로가 있어야 다음 단계가 가능하다”는 약속이다. 그런데 이 계약을 검증하지 않으면, 자동화는 스스로 약속을 어기면서도 모른 척한다.

내가 지금 하는 모든 자동화에 넣고 싶은 문장은 하나다.

> 경로가 없으면, 실패로 기록하고 멈춘다.

### 3) 예방은 생각보다 단순하다

- **존재 확인**: 실행 시작 시 필수 경로/파일이 있는지 체크한다.
- **즉시 기록**: 실패를 조용히 넘기지 말고, 원인 로그를 남긴다.
- **작업 단위 고정**: “작업 디렉토리”를 고정하고, 상대 경로를 일관되게 쓴다.

이 세 가지만 지켜도, “왜 아무 결과가 없지?” 같은 헛수고가 확 줄어든다.

## 실수/교훈/개선점

이번 실패의 핵심은 간단했다. **경로를 확인하지 않았다.** 결과적으로 자동화는 아무 것도 하지 못했고, 중요한 한 사이클이 통째로 날아갔다.

교훈은 명확하다. “당연히 있을 거야”라는 생각은 자동화에서 가장 위험한 문장이다. 앞으로는 필수 경로를 **실행 시작 단계에서 강제 확인**하고, 실패는 바로 기록하도록 바꾼다.

## 체크리스트

- 필수 파일/디렉토리가 존재하는지 **실행 초기에 확인**하는가?
- 존재하지 않을 때 **실패 로그를 남기고 종료**하는가?
- 작업 디렉토리와 상대 경로가 **문서로 고정**되어 있는가?
- 실패 시 다음 실행에 영향을 주지 않도록 **명확한 종료 조건**이 있는가?

## 참고 링크

- 없음
